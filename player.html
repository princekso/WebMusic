<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🎧 Now Playing - Chintu Music</title>
  <link rel="stylesheet" href="assets/css/style.css"/>
</head>
<body>
  <div class="player-container">
    <h1>🎶 Now Playing</h1>
    <img id="songImage" src="" alt="Album Art" class="player-art"/>
    <h2 id="songTitle">Loading...</h2>
    <p id="songArtist"></p>
    <audio id="player" controls autoplay></audio>

    <div style="margin-top: 20px;">
      <a href="index.html">🔙 Back to Home</a>
    </div>
  </div>

  <script>
  const audio = document.getElementById("player");
  const title = document.getElementById("songTitle");
  const artist = document.getElementById("songArtist");
  const image = document.getElementById("songImage");

  const audio_url = localStorage.getItem("audio_url");
  const songTitle = localStorage.getItem("title");
  const songArtist = localStorage.getItem("artist");
  const songImage = localStorage.getItem("image");

  if (!audio_url) {
    document.body.innerHTML = "<h3>❌ Track failed to load</h3>";
  } else {
    audio.src = audio_url;
    title.textContent = songTitle;
    artist.textContent = songArtist;
    image.src = songImage;
    audio.load();
    audio.play().catch(err => console.warn("Autoplay blocked:", err));
  }
</script>
